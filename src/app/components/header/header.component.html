<header>
  <span class="overlay" id="overlay"> </span>
  <div id="container-header-nav">
    <div class="logo">
      <a href="#"
        ><img src="assets/images/logo-long-da.svg" alt="Logo" class="logo-img"
      /></a>
    </div>
    <nav role="navigation" id="nav-sticky">
      <div class="container-center">
        <button
          class="open-nav"
          id="open"
          aria-label="Abrir menú de navegación"
        >
          <i class="bi bi-list"></i>
        </button>
        <div class="nav-hamburguer" id="nav">
          <button
            class="close-menu"
            id="close"
            aria-label="Cerrar menú de navegación"
          >
            <i class="bi bi-x"></i>
          </button>
          <ul class="nav-list">
            <li class="dropdown">
              <a href="#" aria-haspopup="true" aria-expanded="false"
                >Productos</a
              >
            </li>
          </ul>
        </div>
        <div class="logo-nav-compact">
          <a routerLink="/">
            <img
              src="assets/images/logo-long-da.svg"
              alt="Logo"
              class="logo-img"
            />
          </a>
        </div>
        <div class="icons-icon-svg">
          <button (click)="handleCartClick()" aria-label="Carrito de compras">
            <img
              src="assets/images/cart-shopping.svg"
              class="icon-header"
              alt="Icono de carrito de compras"
            />
          </button>
          <a *ngIf="!isLogged()" routerLink="/login" aria-label="Iniciar sesión"
            >login</a
          >
          <a *ngIf="!isLogged()" routerLink="/register" aria-label="Registrarse"
            >register</a
          >
          <div *ngIf="isLogged()" class="user-profile" (click)="toggleMenu()">
            <div aria-label="Perfil de Usuario" class="user-info">
              <img
                [src]="
                  userProfile?.avatar
                    ? '' + userProfile?.avatar
                    : '/default-avatar.png'
                "
                alt="Avatar del Usuario"
                class="user-avatar"
              />
              <p>
                {{
                  (userProfile?.firstname || "") +
                    " " +
                    (userProfile?.lastname || "") || "Usuario"
                }}
              </p>
            </div>
            <div [ngClass]="{ 'dropdown-menu': true, hidden: !menuVisible }">
              <div class="user-info">
                <img
                  [src]="
                    userProfile?.avatar
                      ? '' + userProfile?.avatar
                      : '/default-avatar.png'
                  "
                  alt="Avatar del Usuario"
                  class="user-avatar"
                />
                <p>
                  {{
                    (userProfile?.firstname || "") +
                      " " +
                      (userProfile?.lastname || "") || "Usuario"
                  }}
                </p>
              </div>
              <button
                (click)="logout()"
                aria-label="Cerrar sesión"
                class="logout-btn"
              >
                Cerrar sesión
              </button>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>
</header>
